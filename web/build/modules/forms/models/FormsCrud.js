define(["modules/forms/module"],function(a){"use strict";return a.registerFactory("FormsCrud",["$http","$state",function(a,b){return{nuevo:function(c,d,e){return c.submited===!0?a({method:"POST",async:!0,url:Routing.generate(d.create,e),data:c.formData,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(a){return 200===a.status?a.data:201===a.status?(b.go(d.state_created,{id:a.data.id}),"<div>se ha guardado correctamente</div>"):void 0}):a.get(Routing.generate(d["new"],e)).then(function(a){return a.data})},edit:function(c,d,e){return c.submited===!0?a({method:"POST",async:!0,url:Routing.generate(d.update,{id:c.id}),data:c.formData,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(a){return 200===a.status?a.data:201===a.status?(b.go(d.state_updated,{id:a.data.id}),"<div>se ha actualizado correctamente</div>"):void 0}):a.get(Routing.generate(d.edit,{id:c.id})).then(function(a){return a.data})},editWithVars:function(b,c,d){return b.submited===!0?a({method:"POST",async:!0,url:Routing.generate(c.update,d),data:b.formData,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(a){return 200===a.status?a.data:201===a.status?"<div>se ha actualizado correctamente</div>":void 0}):a.get(Routing.generate(c.edit,d)).then(function(a){return a.data})}}}])});