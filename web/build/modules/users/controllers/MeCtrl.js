define(["modules/users/module"],function(a){"use strict";return a.registerController("MeCtrl",["$scope","$log","$http","$browser","User",function(a,b,c,d,e){a.loading=!1,a.user=e,a.processForm=function(b,f){b.preventDefault(),a.loading=!0;var g,h="secured_user_api_me_update_avatar";g=new FormData(document.getElementsByName(f)[0]),c({method:"POST",async:!0,url:Routing.generate(h),data:g,transformRequest:angular.identity,headers:{"Content-Type":void 0}}).then(function(b){if(202===b.status){var c=d.baseHref(),f=b.data.path;"app_dev.php/"==c.substr(-12)&&(c=c.substr(0,c.length-12)),e.picture=c+f,$(".fileinput").fileinput("clear")}a.loading=!1},function(b){400===b.status?b.data.errores.forEach(function(a){alert(a)}):alert("Ocurrio Un Error Al subir la foto"),a.loading=!1})}}])});