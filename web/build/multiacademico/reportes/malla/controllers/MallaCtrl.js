define(["multiacademico/reportes/malla/module","multiacademico/calificaciones/Calificaciones"],function(a){"use strict";a.registerController("MallaCtrl",["$scope","$state","$stateParams","aula","Calificaciones",function(a,b,c,d,e){a.aula=d,a.aula.recibeProyectoEscolar=function(){return"BACH"===this.curso.tipo||"INICIAL"===this.curso.tipo||"EBI"==this.curso.tipo&&1==this.curso.nivel?!1:!0},a.tam="1",a.tamOptions=[{id:"1",name:"normal"},{id:"0",name:"reducido"}],a.estaReducido=function(){return!parseInt(a.tam)},a.qop=e.quimestres,a.pop=e.parciales,a.q=c.q,a.p=c.p,a.encabezado={titulo:"CUADRO DE CALIFICACIONES DEL PARCIAL"+a.p,materiacolspan:function(){return a.p<=3&&a.q<3?7:4===a.p&&a.q<3?8:3===a.q?5:7}},a.Calificaciones=e,a.Materias={},a.prparcial=function(b,c,d,f){"undefined"==typeof d&&(d=a.q),"undefined"==typeof f&&(f=a.p);var g=a.aula.matriculados[b].calificaciones[c];return e.getPromedioParcial(d,f,g)},a.prparciales=function(b,c,d){"undefined"==typeof d&&(d=a.q);var f=a.aula.matriculados[b].calificaciones[c];return e.getPromedioParciales(d,f)},a.prparciales80=function(b,c,d){"undefined"==typeof d&&(d=a.q);var f=a.aula.matriculados[b].calificaciones[c];return e.getPromedioParciales80(d,f)},a.ex20=function(b,c,d){"undefined"==typeof d&&(d=a.q);var f=a.aula.matriculados[b].calificaciones[c];return e.getExamen20(d,f)},a.prq=function(b,c,d){"undefined"==typeof d&&(d=a.q);var f=a.aula.matriculados[b].calificaciones[c];return e.getPromedioQuimestre(d,f)},a.pra=function(b,c){var d=a.aula.matriculados[b].calificaciones[c];return e.getPromedioAnual(d)},a.prf=function(b,c){var d=a.aula.matriculados[b].calificaciones[c];return e.getPromedioFinal(d)},a.prf=function(b,c){var d=a.aula.matriculados[b].calificaciones[c];return e.getPromedioFinal(d)},a.sumf=function(b){var c=a.aula.matriculados[b].calificaciones;return e.getSumaFinal(c)},a.prgp=function(b,c,d){var f=a.aula.matriculados[b].calificaciones;return e.getPromedioTotalParcial(c,d,f)},a.prg=function(b){var c=a.aula.matriculados[b].calificaciones;return e.getPromedioGeneral(c)},a.apruebaAnioLectivo=function(b){var c=a.aula.matriculados[b].calificaciones;return e.apruebaAnio(c)},a.cualitativa=function(a){return e.getNotaCualitativa(a)},a.changeq=function(){a.p<=3&&(a.encabezado.titulo="CUADRO DE CALIFICACIONES DEL PARCIAL "+a.p),4==a.p&&(a.encabezado.titulo="CUADRO DE CALIFICACIONES DEL QUIMESTRE "+a.q)},a.proyectoparcial=function(b,c,d){if("undefined"==typeof c&&(c=a.q),"undefined"==typeof d&&(d=a.p),"undefined"==typeof a.aula.matriculados[b].proyectoescolar)return"S.P.";var e=a.aula.matriculados[b].proyectoescolar["nota_q"+c+"_p"+d];return"undefined"==typeof e&&(e="N/A"),e},a.comportamientoparcial=function(b,c,d){if("undefined"==typeof c&&(c=a.q),"undefined"==typeof d&&(d=a.p),"undefined"==typeof a.aula.matriculados[b].comportamiento)return"S.C.";var e=a.aula.matriculados[b].comportamiento["agdc_q"+c+"_p"+d];return"undefined"==typeof e&&(e="N/A"),e}}])});