"use strict";!function(){angular.module("blankonApp.charts.flot",[]).directive("flotBasicChart",function(){return{restrict:"A",link:function(a,b){function c(a,b,c){jQuery('<div id="tooltip" class="tooltipflot">'+c+"</div>").css({position:"absolute",display:"none",top:b+5,left:a+5}).appendTo("body").fadeIn(200)}var d=[[0,10],[1,6],[2,3],[3,8],[4,5],[5,13],[6,8]],e=[[0,5],[1,4],[2,4],[3,1],[4,9],[5,10],[6,13]],f=$.plot(b,[{data:d,label:"Series 1",color:"#E9573F"},{data:e,label:"Series 2",color:"#00B1E1"}],{series:{lines:{show:!0,fill:!0,lineWidth:1,fillColor:{colors:[{opacity:.5},{opacity:.5}]}},points:{show:!0},shadowSize:0},legend:{position:"nw"},grid:{hoverable:!0,clickable:!0,borderColor:"#ddd",borderWidth:1,labelMargin:10,backgroundColor:"#fff"},yaxis:{min:0,max:15,color:"#eee"},xaxis:{color:"#eee"}}),g=null;b.bind("plothover",function(a,b,d){if($("#x").text(b.x.toFixed(2)),$("#y").text(b.y.toFixed(2)),d){if(g!=d.dataIndex){g=d.dataIndex,$("#tooltip").remove();var e=d.datapoint[0].toFixed(2),f=d.datapoint[1].toFixed(2);c(d.pageX,d.pageY,d.series.label+" of "+e+" = "+f)}}else $("#tooltip").remove(),g=null}),b.bind("plotclick",function(a,b,c){c&&f.highlight(c.series,c.datapoint)})}}}).directive("flotBarChart",function(){return{restrict:"A",link:function(a,b){var c=[["Jan",5],["Feb",20],["Mar",18],["Apr",8],["May",13],["Jun",24],["Jul",22],["Aug",20],["Sep",10],["Oct",5],["Nov",8],["Dec",15]];$.plot(b,[c],{series:{lines:{lineWidth:1},bars:{show:!0,barWidth:.5,align:"center",lineWidth:0,fillColor:"#81b71a"}},grid:{borderColor:"#ddd",borderWidth:1,labelMargin:10},xaxis:{mode:"categories",tickLength:0}})}}}).directive("flotPieChart",function(){return{restrict:"A",link:function(a,b){function c(a,b){return"<div style='font-size:8pt; text-align:center; padding:2px; color:white;'>"+a+"<br/>"+Math.round(b.percent)+"%</div>"}var d=[{label:"Series 1",data:[[1,40]],color:"#37BC9B"},{label:"Series 2",data:[[1,20]],color:"#8CC152"},{label:"Series 3",data:[[1,50]],color:"#00B1E1"},{label:"Series 4",data:[[1,90]],color:"#E9573F"},{label:"Series 5",data:[[1,80]],color:"#906094"}];$.plot(b,d,{series:{pie:{show:!0,radius:1,label:{show:!0,radius:2/3,formatter:c,threshold:.1}}},grid:{hoverable:!0,clickable:!0}})}}}).directive("flotRealtimeChart",function(){return{restrict:"A",link:function(a,b){function c(){for(e.length>0&&(e=e.slice(1));e.length<f;){var a=e.length>0?e[e.length-1]:50,b=a+10*Math.random()-5;0>b?b=0:b>100&&(b=100),e.push(b)}for(var c=[],d=0;d<e.length;++d)c.push([d,e[d]]);return c}function d(){h.setData([c()]),h.draw(),setTimeout(d,g)}var e=[],f=50,g=1e3,h=$.plot(b,[c()],{colors:["#F6BB42"],series:{lines:{fill:!0,lineWidth:0},shadowSize:0},grid:{borderColor:"#ddd",borderWidth:1,labelMargin:10},xaxis:{color:"#eee"},yaxis:{min:0,max:100,color:"#eee"}});d()}}})}();