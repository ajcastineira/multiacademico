define(["angular","angular-couch-potato","angular-ui-router","bootstrap-session-timeout","jquery-gritter","flot-pack","dropzone","skycons"],function(a,b){"use strict";var c=a.module("app.dashboard",[]).controller("DashboardCtrl",function(a,b,c){$("#wrapper").css("opacity")&&($.cookie("intro")||(setTimeout(function(){var a=$.gritter.add({title:"Welcome to Blankon",text:"Blankon is a theme fullpack admin template powered by Twitter bootstrap 3 front-end framework.",image:c.globalImagePath+"/icon/64/contact.png",sticky:!1,time:""});setTimeout(function(){$.gritter.remove(a,{fade:!0,speed:"slow"})},12e3)},5e3),setTimeout(function(){$.gritter.add({title:"Playing sounds",text:"Blankon made for playing small sounds, will help you with this task. Please make your sound system is active",image:c.globalImagePath+"/icon/64/sound.png",sticky:!0,time:""})},8e3),$.cookie("intro",1,{expires:1})));var d,e=new Skycons({color:"white"},{resizeClear:!0}),f=["clear-day","clear-night","partly-cloudy-day","partly-cloudy-night","cloudy","rain","sleet","snow","wind","fog"];for(d=f.length;d--;)e.set(f[d],f[d]);e.play(),a.tables=[],b.get(c.dataPath+"/views/tables/color.json").success(function(b){a.tables=b}).error(function(){}),$.sessionTimeout({title:"Su sesion esta a punto de expirar!",logoutButton:"Logout",keepAliveButton:"Seguir Conectado",message:"Su sesion sera bloqueada en 2 minutos",keepAliveUrl:"#",logoutUrl:"account.html#/sign-in",redirUrl:"account.html#/lock-screen",ignoreUserActivity:!0,warnAfter:12e4,redirAfter:24e4})}).directive("visitorChart",function(){return{restrict:"A",link:function(a,b){$.plot(b,[{label:"New Visitor",color:"rgba(0, 177, 225, 0.35)",data:[["Jan",450],["Feb",532],["Mar",367],["Apr",245],["May",674],["Jun",897],["Jul",745]]},{label:"Old Visitor",color:"rgba(233, 87, 63, 0.36)",data:[["Jan",362],["Feb",452],["Mar",653],["Apr",756],["May",670],["Jun",352],["Jul",243]]}],{series:{lines:{show:!1},splines:{show:!0,tension:.4,lineWidth:2,fill:.5},points:{show:!0,radius:4}},grid:{borderColor:"transparent",borderWidth:0,hoverable:!0,backgroundColor:"transparent"},tooltip:!0,tooltipOpts:{content:"%x : %y People"},xaxis:{tickColor:"transparent",mode:"categories"},yaxis:{tickColor:"transparent"},shadowSize:0})}}}).directive("realtimeStatus",function(){return{restrict:"A",link:function(a,b){function c(){for(e.length>0&&(e=e.slice(1));e.length<f;){var a=e.length>0?e[e.length-1]:50,b=a+10*Math.random()-5;0>b?b=0:b>100&&(b=100),e.push(b)}for(var c=[],d=0;d<e.length;++d)c.push([d,e[d]]);return c}function d(){h.setData([c()]),h.draw(),setTimeout(d,g)}var e=[],f=50,g=1e3,h=$.plot(b,[c()],{colors:["#F6BB42"],series:{lines:{fill:!0,lineWidth:0},shadowSize:0},grid:{borderColor:"#ddd",borderWidth:1,labelMargin:10},xaxis:{color:"#eee"},yaxis:{min:0,max:100,color:"#eee"}});d()}}}).directive("countNumber",function(){return{restrict:"A",link:function(){function a(a){$({countNum:$(".counter-"+a).text()}).animate({countNum:$(".counter-"+a).data("counter")},{duration:8e3,easing:"linear",step:function(){$(".counter-"+a).text(Math.floor(this.countNum)).digits()},complete:function(){$(".counter-"+a).text(this.countNum).digits()}})}$.fn.digits=function(){return this.each(function(){$(this).text($(this).text().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"))})},$("#wrapper").css("opacity")&&(a("visit"),a("unique"),a("page"))}}});return b.configureApp(c),c.run(["$couchPotato",function(a){c.lazy=a}]),c});