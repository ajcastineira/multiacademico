"use strict";!function(){angular.module("blankonApp.widget.overview",[]).directive("visitorChart",function(){return{restrict:"A",link:function(a,b){$.plot(b,[{label:"New Visitor",color:"rgba(0, 177, 225, 0.35)",data:[["Jan",450],["Feb",532],["Mar",367],["Apr",245],["May",674],["Jun",897],["Jul",745]]},{label:"Old Visitor",color:"rgba(233, 87, 63, 0.36)",data:[["Jan",362],["Feb",452],["Mar",653],["Apr",756],["May",670],["Jun",352],["Jul",243]]}],{series:{lines:{show:!1},splines:{show:!0,tension:.4,lineWidth:2,fill:.5},points:{show:!0,radius:4}},grid:{borderColor:"transparent",borderWidth:0,hoverable:!0,backgroundColor:"transparent"},tooltip:!0,tooltipOpts:{content:"%x : %y People"},xaxis:{tickColor:"transparent",mode:"categories"},yaxis:{tickColor:"transparent"},shadowSize:0})}}}).directive("browserChart",function(){return{restrict:"A",link:function(a,b){function c(){window.donut=Morris.Donut({element:b,data:[{label:"Chrome",value:40},{label:"Firefox",value:20},{label:"Opera",value:10},{label:"Safari",value:20},{label:"Internet Explorer",value:10}],colors:["#E9573F","#F6BB42","#906094","#00B1E1","#8CC152"],resize:!0})}$(window).resize(function(){window.donut.redraw()}),c()}}}).directive("marketChart",function(){return{restrict:"A",link:function(a,b){function c(){window.line=Morris.Line({element:b,data:[{y:"2008",a:30,b:20,c:10},{y:"2009",a:20,b:50,c:67},{y:"2010",a:25,b:40,c:32},{y:"2011",a:27,b:60,c:78},{y:"2012",a:34,b:50,c:12},{y:"2013",a:40,b:70,c:78},{y:"2014",a:41,b:60,c:52}],xkey:"y",ykeys:["a","b","c"],labels:["Apple","Android","Windows Phone"],lineColors:["#8CC152","#F6BB42","#906094"],pointFillColors:["#8CC152","#F6BB42","#906094"],pointStrokeColors:["#FFFFFF"],lineWidth:"5px",hideHover:!0,grid:!1,gridTextColor:"#FFFFFF",resize:!0,redraw:!0})}$(window).resize(function(){window.line.redraw()}),c()}}}).directive("realtimeStatus",function(){return{restrict:"A",link:function(a,b){function c(){for(e.length>0&&(e=e.slice(1));e.length<f;){var a=e.length>0?e[e.length-1]:50,b=a+10*Math.random()-5;0>b?b=0:b>100&&(b=100),e.push(b)}for(var c=[],d=0;d<e.length;++d)c.push([d,e[d]]);return c}function d(){h.setData([c()]),h.draw(),setTimeout(d,g)}var e=[],f=50,g=1e3,h=$.plot(b,[c()],{colors:["#F6BB42"],series:{lines:{fill:!0,lineWidth:0},shadowSize:0},grid:{borderColor:"#ddd",borderWidth:1,labelMargin:10},xaxis:{color:"#eee"},yaxis:{min:0,max:100,color:"#eee"}});d()}}}).directive("countNumber",function(){return{restrict:"A",link:function(){function a(a){$({countNum:$(".counter-"+a).text()}).animate({countNum:$(".counter-"+a).data("counter")},{duration:8e3,easing:"linear",step:function(){$(".counter-"+a).text(Math.floor(this.countNum)).digits()},complete:function(){$(".counter-"+a).text(this.countNum).digits()}})}$.fn.digits=function(){return this.each(function(){$(this).text($(this).text().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"))})},$("#wrapper").css("opacity")&&(a("visit"),a("unique"),a("page"))}}}).directive("marketTodayChart",function(){return{restrict:"A",link:function(a,b){b.sparkline("html",{type:"bar",barColor:"#81b71a",height:"50px",barWidth:"5px"})}}}).directive("marketAverageChart",function(){return{restrict:"A",link:function(a,b){b.sparkline("html",{type:"bar",barColor:"#81b71a",height:"50px",barWidth:"5px"})}}}).directive("marketTotalChart",function(){return{restrict:"A",link:function(a,b){b.sparkline("html",{type:"bar",barColor:"#81b71a",height:"50px",barWidth:"5px"})}}}).directive("marketStatusChart",function(){return{restrict:"A",link:function(a,b){function c(a,b){return"<div style='font-size:8pt; text-align:center; padding:2px; color:white;'>"+a+"<br/>"+Math.round(b.percent)+"%</div>"}var d=[{label:"Apple",data:[[1,40]],color:"#906094"},{label:"Android",data:[[1,20]],color:"#8CC152"},{label:"Windows Phone",data:[[1,50]],color:"#F6BB42"}];$.plot(b,d,{series:{pie:{show:!0,radius:500,label:{show:!0,radius:2/3,formatter:c,threshold:.1}}},legend:{show:!1},grid:{hoverable:!0,clickable:!0}})}}}).directive("sparkline",function(){return{restrict:"A",link:function(a,b){b.sparkline("html",{type:"bar",barColor:"#FFFFFF",height:"50px",barWidth:"5px"})}}}).directive("sparkline2",function(){return{restrict:"A",link:function(a,b){b.sparkline("html",{type:"line",height:"60px",defaultPixelsPerValue:6,spotColor:"#FFFFFF",highlightSpotColor:"#FFFFFF",highlightLineColor:"#FFFFFF",fillColor:"#FFFFFF"})}}})}();